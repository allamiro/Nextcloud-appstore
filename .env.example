# =============================================================================
# Environment Variables for Nextcloud App Store
# =============================================================================
# Copy this file to .env and customize for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# Docker Build Settings
# -----------------------------------------------------------------------------
APPSTORE_VERSION=master
IMAGE_TAG=latest

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_PASSWORD=changeme_staging_password
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=nextcloudappstore
DATABASE_USER=nextcloudappstore

# -----------------------------------------------------------------------------
# Django Security Settings
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a unique secret key for production!
# Use: env LC_CTYPE=C tr -dc "a-zA-Z0-9-_\$\?" < /dev/urandom | head -c 64; echo
SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_use_64_char_random_string

# Comma-separated list of allowed hosts
ALLOWED_HOSTS=localhost,127.0.0.1,appstore.local,appstore.example.com

# Set to True only for debugging (never in production)
DEBUG=False

# -----------------------------------------------------------------------------
# Initial Setup Flags (set to true on first run only)
# -----------------------------------------------------------------------------
LOAD_FIXTURES=false
IMPORT_TRANSLATIONS=false

# -----------------------------------------------------------------------------
# Admin User (optional - for automatic creation)
# -----------------------------------------------------------------------------
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=

# -----------------------------------------------------------------------------
# Site Domain (for social login and emails)
# -----------------------------------------------------------------------------
SITE_DOMAIN=appstore.example.com

# -----------------------------------------------------------------------------
# GitHub OAuth (for social login)
# -----------------------------------------------------------------------------
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# GitHub API Token (for syncing Nextcloud releases)
# -----------------------------------------------------------------------------
GITHUB_API_TOKEN=

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
DEFAULT_FROM_EMAIL=appstore@example.com
EMAIL_HOST=localhost
EMAIL_PORT=25
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
EMAIL_USE_TLS=False

# -----------------------------------------------------------------------------
# reCAPTCHA (optional)
# -----------------------------------------------------------------------------
RECAPTCHA_PUBLIC_KEY=
RECAPTCHA_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# Discourse Integration (optional)
# -----------------------------------------------------------------------------
DISCOURSE_URL=https://help.nextcloud.com
DISCOURSE_USER=
DISCOURSE_TOKEN=

# -----------------------------------------------------------------------------
# SSL/HTTPS Settings
# -----------------------------------------------------------------------------
USE_HTTPS=True

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
THROTTLE_ANON=100/hour
THROTTLE_USER=1000/hour
THROTTLE_APP_UPLOAD=100/day
THROTTLE_APP_REGISTER=100/day
